(function(){function I(){v=-1;debug&&($("endloop").disabled=!0)}function e(a,c,g){return Math.floor(a/Math.pow(2,c))&Math.pow(2,(g||c)-c+1)-1}function Q(a){c[a[0]]=a[1];c[15]+=4}function R(){}function S(){}function T(a){y(c[a[1]]+a[2],4,c[a[0]]);c[15]+=4}function U(){}function V(a){k=c[a[0]]&a[1];c[15]+=4}function W(a){c[a[0]]=a[1];c[15]+=4}function X(a){c[a[0]]=a[1];c[15]+=4}function Y(){}function Z(){}function aa(a){c[15]=a[0]}function ba(a){c[15]=c[a[0]]-1;k|=32;D=1}function ca(a){c[14]=c[15]+ 4|1;c[15]=a[0]}function da(){}function ea(){}function fa(){}function ga(){}function ha(){}function ia(){}function ja(){}function ka(){}function la(){}function ma(){}function na(){}function oa(){}function pa(a){e(k,29)?(a[0]<c[15]&&a[0]>c[15]-20&&v++,c[15]=a[0]):(0<v&&(v=-1),c[15]+=2)}function qa(a){if(e(k,30))I(),c[15]+=2;else{var b=a[0];b<c[15]&&b>c[15]-20&&v++;debug&&($("endloop").disabled=!1);c[15]=a[0]}}function ra(a){c[15]=e(k,30)?a[0]:c[15]+2}function sa(a){for(var b=0;8>b;b++)e(a[1],b)&&(c[b]= y(c[a[0]],4),c[a[0]]+=4);c[15]+=2}function ta(a){for(var b=0;8>b;b++)e(a[1],b)&&y(c[a[0]],4,c[b]);c[15]+=2}function ua(){}function va(){}function wa(){}function xa(){}function ya(){}function za(){}function Aa(){}function Ba(){}function Ca(){}function Da(){}function Ea(){}function Fa(){}function Ga(){}function Ha(){}function Ia(a){c[a[0]]=a[1];c[15]+=2}function Ja(a){c[15]=c[a[0]]-1}function Ka(){}function La(){}function Ma(){}function Na(a){c[a[0]]&=4294967295-c[a[1]];s(a[0]);z(a[0]);c[15]+=2}function Oa(){} function Pa(){}function Qa(){}function Ra(){}function Sa(a){var b=c[a[0]]-=a[1];E(c[a[0]],b);s(a[0]);z(a[0]);c[15]+=2}function Ta(){}function Ua(){}function Va(a){c[a[0]]=a[1];s(a[0]);z(a[0]);c[15]+=2}function Wa(){}function J(a){var b=c[a[0]]=c[a[1]]-c[a[2]];E(c[a[0]],b);s(a[0]);z(a[0]);c[15]+=2}function K(a){var b=c[a[0]]=c[a[1]]+c[a[2]];E(a[0],b);s(a[0]);z(a[0]);c[15]+=2}function Xa(){}function Ya(){}function Za(a){var b=c[a[0]]=c[a[1]]*Math.pow(2,a[2]);a[2]&&E(a[0],b);s(a[0]);z(a[0]);c[15]+=2} function F(a){return a<c[15]?" ;&uarr;":a>c[15]?" ;&darr;":" ;&larr;"}function L(a){var p,g,f,k,l,m,t,n,r,q,u,v,w,s;p=c[15]+4;b[a]="?";g=A[8][a];f=e(g,8,15);k=e(g,10,15);l=e(g,11,15);m=e(g,12,15);t=e(g,13,15);n=e(g,0,2);r=e(g,3,5);q=e(g,3,5);u=e(g,0,7);v=e(g,6,10);w=e(g,6,8);s=e(g,8,10);if(0===t)(f=e(g,11,12),3===f)?(f=e(g,9,10),2!==f||w)?0===f?(h[a]=K,d[a]=[n,r,w],b[a]="ADD r"+d[a][0]+",r"+d[a][1]+",r"+d[a][2]):1===f?(h[a]=J,d[a]=[n,r,w],b[a]="SUB r"+d[a][0]+",r"+d[a][1]+",r"+d[a][2]):2===f?(h[a]= K,d[a]=[n,r,w],b[a]="ADD r"+d[a][0]+",r"+d[a][1]+",#0x"+x(d[a][2])):3===f&&(h[a]=J,d[a]=[n,r,w],b[a]="SUB r"+d[a][0]+",r"+d[a][1]+",#0x"+x(d[a][2])):(h[a]=Wa,d[a]=[n,r],b[a]="MOV r"+d[a][0]+",r"+d[a][1]):(d[a]=[n,r,v],0===f?(h[a]=Za,b[a]="LSL"):1===f?(h[a]=Ya,b[a]="LSR"):2===f&&(h[a]=Xa,b[a]="ASR"),b[a]+=" r"+d[a][0]+",r"+d[a][1]+",#0x"+x(d[a][2]));else if(1===t)f=e(g,11,12),d[a]=[s,u],0===f?(h[a]=Va,b[a]="MOV"):1===f?(h[a]=Ua,b[a]="CMP"):2===f?(h[a]=Ta,b[a]="ADD"):3===f&&(h[a]=Sa,b[a]="SUB"),b[a]+= " r"+d[a][0]+",#0x"+x(d[a][1]);else if(16===k)f=e(g,6,9),d[a]=[n,r],0===f&&(h[a]=thumb_and_rr,b[a]="AND"),8===f&&(h[a]=thumb_tst_rr,b[a]="TST"),9===f&&(h[a]=Ra,b[a]="NEG"),10===f&&(h[a]=Qa,b[a]="CMP"),12===f&&(h[a]=Pa,b[a]="ORR"),13===f&&(h[a]=Oa,b[a]="MUL"),14===f&&(h[a]=Na,b[a]="BIC"),b[a]+=" r"+d[a][0]+",r"+d[a][1];else if(17===k)f=e(g,8,9),n=e(g,7)*Math.pow(2,3)+n,r=e(g,6)*Math.pow(2,3)+r,0===f?(h[a]=Ma,d[a]=[n,r],b[a]="ADD r"+d[a][0]+",r"+d[a][1]):2===f?8===n&&8===r?(h[a]=Ka,d[a]=[],b[a]="NOP"): (h[a]=La,d[a]=[n,r],b[a]="MOV r"+d[a][0]+",r"+d[a][1]):3===f&&(h[a]=Ja,d[a]=[r],b[a]="BX r"+d[a][0]);else if(9===l)h[a]=Ia,d[a]=[s,y((p&4294967292)+4*u,4)],b[a]="LDR r"+d[a][0]+",=#0x"+x(d[a][1]);else if(5===m)f=e(g,10,11),d[a]=[n,q,w],e(g,9)?0===f&&(h[a]=Fa,b[a]="STRH"):0===f?(h[a]=Ha,b[a]="STR"):1!==f&&2!==f&&3===f&&(h[a]=Ga,b[a]="LDRB"),b[a]+=" r"+d[a][0]+",[r"+d[a][1]+",r"+d[a][2]+"]";else if(3===t)f=e(g,11,12),d[a]=[n,q,v],0===f?(h[a]=Ea,b[a]="STR"):1===f?(h[a]=Da,b[a]="LDR"):2===f?(h[a]=Ca, b[a]="STRB"):3===f&&(h[a]=Ba,b[a]="LDRB"),1<f&&(d[a][2]*=4),b[a]+=" r"+d[a][0]+",[r"+d[a][1]+(d[a][2]?",#0x"+x(d[a][2]):"")+"]";else if(8===m)f=e(g,11),d[a]=[n,q,v],0===f?(h[a]=Aa,b[a]="STRH"):1===f&&(h[a]=za,b[a]="LDRH"),b[a]+=" r"+d[a][0]+",[r"+d[a][1]+(d[a][2]?",#0x"+x(d[a][2]):"")+"]";else if(9===m)d[a]=[s,4*u],e(g,11)?(h[a]=xa,b[a]="LDR"):(h[a]=ya,b[a]="STR"),b[a]+=" r"+d[a][0]+",[SP,#0x"+x(d[a][1])+"]";else if(10!==m)if(176===f)nn=4*e(g,0,6),1===e(g,7)&&(nn=-nn),h[a]=wa,d[a]=[nn],b[a]="ADD SP,#0x"+ x(d[a][0]);else if(190!==f)if(11===m){f=e(g,11);d[a]=[u,e(g,8)];f?(h[a]=ua,b[a]="POP"):(h[a]=va,b[a]="PUSH");b[a]+=" {";for(p=0;8>p;p++)e(d[a][0],p)&&(b[a]+="r"+p+",");d[a][1]&&(b[a]+=f?"r13,":"r14,");b[a]=b[a].slice(0,-1)+"}"}else if(12===m){f=e(g,11);d[a]=[s,u];0===f?(h[a]=ta,b[a]="STMIA"):1===f&&(h[a]=sa,b[a]="LDMIA");b[a]+=" r"+d[a][0]+"!,{";for(p=0;8>p;p++)e(d[a][1],p)&&(b[a]+="r"+p+",");b[a]=b[a].slice(0,-1)+"}"}else 223!==f&&(13===m||28===l?(b[a]="B",u*=2,254<u&&(u-=512),d[a]=[p+u],28===l? h[a]=da:(p=e(g,8,11),h[a]=[ra,qa,pa,oa,na,ma,la,ka,ja,ia,ha,ga,fa,ea][p],b[a]+=M[p]),b[a]+=" 0x"+x(d[a][0]),b[a]+=F(d[a][0])):30===l&&(instr2=y(c[15]+2,2),f=e(instr2,11,15),g=e(g,0,10)*Math.pow(2,12)+e(instr2,0,10)*Math.pow(2,1),4194304<g&&(g-=8388608),d[a]=[p+g,p|1],31===f&&(h[a]=ca,b[a]="BL 0x"+x(d[a][0])+" ;&rarr;")));debug&&(p=$("thumbvalue"+x(c[15])))&&(p.innerHTML=x(A[8][a],4),$("thumbname"+x(c[15])).innerHTML=b[a])}function G(a){var b,g,f,d,h,k,q,n,r,s;b=c[15]+8;m[a]="?";g=B[8][a];H[a]=e(g, 28,31);f=M[H[a]];if(77823===e(g,8,27))d=e(g,4,7),1===d&&(t[a]=ba,l[a]=[e(g,0,3)],m[a]="BX"+f+" r"+l[a][0]),m[a]+=F(l[a][0]);else if(5===e(g,25,27))d=e(g,24),l[a]=[b+4*e(g,0,23)],t[a]=d?Z:aa,m[a]=(d?"BL":"B")+f+" 0x"+x(l[a][0]),m[a]+=d?" ;&rarr;":F(l[a][0]);else if(1===e(g,26,27))q=e(g,20),h=e(g,16,19),k=e(g,12,15),d=e(g,0,11),l[a]=15===h?[k,y(b+d,4)]:[k,h,d],q?(t[a]=15===h?Q:S,m[a]="LDR"):(t[a]=15===h?R:T,m[a]="STR"),m[a]+=f+" r"+l[a][0]+(15===h?",=#0x"+x(l[a][1]):",[r"+l[a][1]+",0x"+x(l[a][2])+"]"); else if(e(g,25,27)||e(g,7)||15==e(g,12,15))if(d=e(g,21,24),h=e(g,16,19),k=e(g,12,15),r=e(g,19),s=e(g,16),q=e(g,22),n=0,!e(g,18)&&8<=d&&11>=d){if(d=e(g,21))r&&(n+=4278190080),s&&(n+=255),l[a]=[e(g,0,3),n],t[a]=q?U:V,m[a]="MSR"+f+(q?" spsr_ ":" cpsr_")+(r?"f":"")+(s?"c":"")+",r"+l[a][0]}else switch(f=0,e(g,25)&&(is=2*e(g,8,11),d=e(g,0,7),f=is,f=(d&Math.pow(2,f)-1)*Math.pow(2,32-f)+Math.floor(d/Math.pow(2,f))),e(g,21,24)){case 4:15===h?(t[a]=X,l[a]=[k,b+f],m[a]="ADD r"+l[a][0]+",=#0x"+x(l[a][1])):(t[a]= Y,l[a]=[k,h,f],m[a]="ADD r"+l[a][0]+",r"+l[a][1]+",0x"+x(l[a][2]));break;case 13:t[a]=W,l[a]=[k,f],m[a]="MOV r"+l[a][0]+",#0x"+x(l[a][1])}else t[a]=null,l[a]=[],m[a]="ARM7";debug&&(b=$("armvalue"+x(c[15])))&&(b.innerHTML=x(B[8][a],8),$("armname"+x(c[15])).innerHTML=m[a])}function y(a,b,c){var d,e;1===b?e=N:2===b?e=A:4===b&&(e=B);d=Math.floor(a/Math.pow(2,24));8>d?a&=16777215:d=14<d?14:8;a%=[,,262144,32768,,1024,131072,1024,33554432,,,,,,16777216][d];6===d&&98303<a&&131072>a&&(a-=8E3);if(void 0!== c)e[d][a/b]=c;else return e[d][a/b]||0}function E(a,b){b!=c[a]?(k|=536870912,debug&&($("flagc").checked=!0)):(k&=3758096383,debug&&($("flagc").checked=!1))}function z(a){0===c[a]?(k|=1073741824,debug&&($("flagz").checked=!0)):(k&=3221225471,debug&&($("flagz").checked=!1))}function s(a){1===e(c[a],31)?(k|=2147483648,debug&&($("flagn").checked=!0)):(k&=2147483647,debug&&($("flagn").checked=!1))}function O(){debug&&(document.getElementsByClassName("highlight")[0].className="");instr=D?$("thumb"+x(c[15])): $("arm"+x(c[15]));instr.className="highlight";instr.parentNode.scrollTop=instr.offsetTop-100;for(q=0;16>=q;q++)$("r"+q).innerHTML=x(c[q],8);$("cpsr").innerHTML=x(k,8);$("spsr").innerHTML=x($a,8);$("flagn").checked=!!e(k,31);$("flagz").checked=!!e(k,30);$("flagc").checked=!!e(k,29);$("flagv").checked=!!e(k,28);$("flagi").checked=!!e(k,7);$("flagf").checked=!!e(k,6);$("flagt").checked=!!e(k,5);$("flagq").checked=!!e(k,27)}$=function(a){return document.getElementById(a)};for(var P=[],ab=[],q=0;4>q;q++)P.push($("canvas"+ q).getContext("2d")),ab.push(P[q].createImageData(240,160));var c=new Uint32Array(new ArrayBuffer(68));c[13]=50364160;c[15]=134217728;var k=0,$a=0,D=0;update_cpsr_v=function(){};var C=[,,new ArrayBuffer(262144),new ArrayBuffer(32768),new ArrayBuffer(1024),new ArrayBuffer(1024),new ArrayBuffer(98304),new ArrayBuffer(1024),,,,,,,new ArrayBuffer(65536)],N=[],A=[],B=[];load=function(a){var b,c;c=new XMLHttpRequest;c.open("GET",a);c.responseType="arraybuffer";c.send();c.onload=function(){C[8]=c.response; for(b=0;16>b;b++)C[b]&&(N[b]=new Uint8Array(C[b]),A[b]=new Uint16Array(C[b]),B[b]=new Uint32Array(C[b]));G(0);convert_all()}};var t=[],l=[],m=[],H=[],h=[],d=[],b=[],M="EQ NE CS CC MI PL VS VC HI LS GE LT GT LE NV".split(" ");convert_all=function(){var a;for(a=0;a<B[8].length;a++)c[15]=134217728+4*a,G(a);for(a=0;a<A[8].length;a++)c[15]=134217728+2*a,L(a);c[15]=134217728};trace=function(){var a;a=c[15]%33554432;D?(a/=2,h[a](d[a])):(a/=4,t[a](l[a],H[a]));debug&&O();a=c[15]-134217728;D?(a/=2,h[a]||L(a)): (a/=4,t[a]||G(a))};play=function(){};x=function(a,b){return((b?"0000000":"")+a.toString(16).toUpperCase()).slice(-b)};var v=-1;end_current_loop=function(){var a=debug;for(debug=!1;-1<v;)trace();debug=a;I();debug&&O()}})();