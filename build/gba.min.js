(function(){function N(){C=-1;t&&($("endloop").disabled=!0)}function c(a,b,g){return Math.floor(a/Math.pow(2,b))&Math.pow(2,(g||b)-b+1)-1}function S(a){b[a[0]]=a[1];b[15]+=4}function T(){}function U(){}function V(a){w(b[a[1]]+a[2],4,b[a[0]]);b[15]+=4}function W(){}function X(a){k=b[a[0]]&a[1];b[15]+=4}function Y(a){b[a[0]]=a[1];b[15]+=4}function Z(a){b[a[0]]=a[1];b[15]+=4}function aa(){}function ba(){}function ca(a){b[15]=a[0]}function da(a){b[15]=b[a[0]]-1;k|=32;D=!0}function ea(a){b[14]=b[15]+4| 1;b[15]=a[0]}function fa(){}function ga(){}function ha(){}function ia(){}function ja(){}function ka(){}function la(){}function ma(){}function na(){}function oa(){}function pa(){}function qa(){}function ra(a){c(k,29)?(a[0]<b[15]&&a[0]>b[15]-20&&C++,b[15]=a[0]):(0<C&&(C=-1),b[15]+=2)}function sa(a){if(c(k,30))N(),b[15]+=2;else{var l=a[0];l<b[15]&&l>b[15]-20&&C++;t&&($("endloop").disabled=!1);b[15]=a[0]}}function ta(a){b[15]=c(k,30)?a[0]:b[15]+2}function ua(a){for(var l=0;8>l;l++)c(a[1],l)&&(b[l]=w(b[a[0]], 4),b[a[0]]+=4);b[15]+=2}function va(a){for(var l=0;8>l;l++)c(a[1],l)&&w(b[a[0]],4,b[l]);b[a[0]]+=4;b[15]+=2}function wa(a){for(var l=0;8>l;l++)c(a[0],l)&&(b[l]=w(b[13],4),b[13]+=4);a[1]&&(w(b[13],4,b[14]),b[13]+=4);b[15]+=2}function xa(a){a[1]&&(b[13]-=4,w(b[13],4,b[14]));for(var l=7;0<=l;l--)c(a[0],l)&&(b[13]-=4,w(b[13],4,b[l]));b[15]+=2}function ya(){}function za(){}function Aa(){}function Ba(){}function Ca(a){w(b[a[1]]+a[2],2,b[a[0]]);b[15]+=2}function Da(){}function Ea(){}function Fa(a){b[a[0]]= w(b[a[1]]+a[2],4);b[15]+=2}function Ga(a){w(b[a[1]]+a[2],4,b[a[0]]);b[15]+=2}function Ha(){}function Ia(){}function Ja(){}function Ka(a){b[a[0]]=a[1];b[15]+=2}function La(a){b[15]=b[a[0]]-1}function Ma(){b[15]+=2}function Na(a){b[a[0]]=b[a[1]];b[15]+=2}function Oa(){}function Pa(a){b[a[0]]&=4294967295-b[a[1]];q(a[0]);n(a[0]);b[15]+=2}function Qa(){}function Ra(){}function Sa(a){a=b[16]=b[a[0]]-b[a[1]];v(16,a,!0);q(16);n(16);b[15]+=2}function Ta(){}function Ua(a){var c=b[a[0]]-=a[1];v(b[a[0]],c,!0); q(a[0]);n(a[0]);b[15]+=2}function Va(a){var c=b[a[0]]+=a[1];v(a[0],c);q(a[0]);n(a[0]);b[15]+=2}function Wa(a){a=b[16]=b[a[0]]-a[1];v(b[16],a);q(16);n(16);b[15]+=2}function Xa(a){b[a[0]]=a[1];q(a[0]);n(a[0]);b[15]+=2}function Ya(a){var c=b[a[0]]=b[a[1]];v(a[0],c);q(a[0]);n(a[0]);b[15]+=2}function O(a){var c=b[a[0]]=b[a[1]]-b[a[2]];v(b[a[0]],c,!0);q(a[0]);n(a[0]);b[15]+=2}function P(a){var c=b[a[0]]=b[a[1]]+b[a[2]];v(a[0],c);q(a[0]);n(a[0]);b[15]+=2}function Za(a){var c=b[a[0]]=b[a[1]]>>a[2];v(a[0], c);q(a[0]);n(a[0]);b[15]+=2}function $a(a){var c=b[a[0]]=Math.floor(b[a[1]]/Math.pow(2,a[2]));v(a[0],c);q(a[0]);n(a[0]);b[15]+=2}function ab(a){var c=b[a[0]]=b[a[1]]*Math.pow(2,a[2]);a[2]&&v(a[0],c);q(a[0]);n(a[0]);b[15]+=2}function K(a){return a<b[15]?" ;&uarr;":a>b[15]?" ;&darr;":" ;&larr;"}function I(a){var l,g,f,k,m,B,p,r,u,s,y,q,n,v;l=b[15]+4;e[a]="?";g=E[8][a];f=c(g,8,15);k=c(g,10,15);m=c(g,11,15);B=c(g,12,15);p=c(g,13,15);r=c(g,0,2);u=c(g,3,5);s=c(g,3,5);y=c(g,0,7);q=c(g,6,10);n=c(g,6,8);v= c(g,8,10);if(0===p)(f=c(g,11,12),3===f)?(f=c(g,9,10),2!==f||n)?0===f?(h[a]=P,d[a]=[r,u,n],e[a]="ADD r"+d[a][0]+",r"+d[a][1]+",r"+d[a][2]):1===f?(h[a]=O,d[a]=[r,u,n],e[a]="SUB r"+d[a][0]+",r"+d[a][1]+",r"+d[a][2]):2===f?(h[a]=P,d[a]=[r,u,n],e[a]="ADD r"+d[a][0]+",r"+d[a][1]+",#0x"+x(d[a][2])):3===f&&(h[a]=O,d[a]=[r,u,n],e[a]="SUB r"+d[a][0]+",r"+d[a][1]+",#0x"+x(d[a][2])):(h[a]=Ya,d[a]=[r,u],e[a]="MOV r"+d[a][0]+",r"+d[a][1]):(d[a]=[r,u,q],0===f?(h[a]=ab,e[a]="LSL"):1===f?(h[a]=$a,e[a]="LSR"):2=== f&&(h[a]=Za,e[a]="ASR"),e[a]+=" r"+d[a][0]+",r"+d[a][1]+",#0x"+x(d[a][2]));else if(1===p)f=c(g,11,12),d[a]=[v,y],0===f?(h[a]=Xa,e[a]="MOV"):1===f?(h[a]=Wa,e[a]="CMP"):2===f?(h[a]=Va,e[a]="ADD"):3===f&&(h[a]=Ua,e[a]="SUB"),e[a]+=" r"+d[a][0]+",#0x"+x(d[a][1]);else if(16===k)f=c(g,6,9),d[a]=[r,u],0===f&&(h[a]=thumb_and_rr,e[a]="AND"),8===f&&(h[a]=thumb_tst_rr,e[a]="TST"),9===f&&(h[a]=Ta,e[a]="NEG"),10===f&&(h[a]=Sa,e[a]="CMP"),12===f&&(h[a]=Ra,e[a]="ORR"),13===f&&(h[a]=Qa,e[a]="MUL"),14===f&&(h[a]= Pa,e[a]="BIC"),e[a]+=" r"+d[a][0]+",r"+d[a][1];else if(17===k)f=c(g,8,9),r=c(g,7)*Math.pow(2,3)+r,u=c(g,6)*Math.pow(2,3)+u,0===f?(h[a]=Oa,d[a]=[r,u],e[a]="ADD r"+d[a][0]+",r"+d[a][1]):2===f?8===r&&8===u?(h[a]=Ma,d[a]=[],e[a]="NOP"):(h[a]=Na,d[a]=[r,u],e[a]="MOV r"+d[a][0]+",r"+d[a][1]):3===f&&(h[a]=La,d[a]=[u],e[a]="BX r"+d[a][0]);else if(9===m)h[a]=Ka,d[a]=[v,w((l&4294967292)+4*y,4)],e[a]="LDR r"+d[a][0]+",=#0x"+x(d[a][1]);else if(5===B)f=c(g,10,11),d[a]=[r,s,n],c(g,9)?0===f&&(h[a]=Ha,e[a]="STRH"): 0===f?(h[a]=Ja,e[a]="STR"):1!==f&&2!==f&&3===f&&(h[a]=Ia,e[a]="LDRB"),e[a]+=" r"+d[a][0]+",[r"+d[a][1]+",r"+d[a][2]+"]";else if(3===p)f=c(g,11,12),d[a]=[r,s,q],0===f?(h[a]=Ga,e[a]="STR"):1===f?(h[a]=Fa,e[a]="LDR"):2===f?(h[a]=Ea,e[a]="STRB"):3===f&&(h[a]=Da,e[a]="LDRB"),1<f&&(d[a][2]*=4),e[a]+=" r"+d[a][0]+",[r"+d[a][1]+(d[a][2]?",#0x"+x(d[a][2]):"")+"]";else if(8===B)f=c(g,11),d[a]=[r,s,q],0===f?(h[a]=Ca,e[a]="STRH"):1===f&&(h[a]=Ba,e[a]="LDRH"),e[a]+=" r"+d[a][0]+",[r"+d[a][1]+(d[a][2]?",#0x"+x(d[a][2]): "")+"]";else if(9===B)d[a]=[v,4*y],c(g,11)?(h[a]=za,e[a]="LDR"):(h[a]=Aa,e[a]="STR"),e[a]+=" r"+d[a][0]+",[SP,#0x"+x(d[a][1])+"]";else if(10!==B)if(176===f)nn=4*c(g,0,6),1===c(g,7)&&(nn=-nn),h[a]=ya,d[a]=[nn],e[a]="ADD SP,#0x"+x(d[a][0]);else if(190!==f)if(11===B){f=c(g,11);d[a]=[y,c(g,8)];f?(h[a]=wa,e[a]="POP"):(h[a]=xa,e[a]="PUSH");e[a]+=" {";for(l=0;8>l;l++)c(d[a][0],l)&&(e[a]+="r"+l+",");d[a][1]&&(e[a]+=f?"r13,":"r14,");e[a]=e[a].slice(0,-1)+"}"}else if(12===B){f=c(g,11);d[a]=[v,y];0===f?(h[a]= va,e[a]="STMIA"):1===f&&(h[a]=ua,e[a]="LDMIA");e[a]+=" r"+d[a][0]+"!,{";for(l=0;8>l;l++)c(d[a][1],l)&&(e[a]+="r"+l+",");e[a]=e[a].slice(0,-1)+"}"}else 223!==f&&(13===B||28===m?(e[a]="B",y*=2,254<y&&(y-=512),d[a]=[l+y],28===m?h[a]=fa:(l=c(g,8,11),h[a]=[ta,sa,ra,qa,pa,oa,na,ma,la,ka,ja,ia,ha,ga][l],e[a]+=Q[l]),e[a]+=" 0x"+x(d[a][0]),e[a]+=K(d[a][0])):30===m&&(instr2=w(b[15]+2,2),f=c(instr2,11,15),g=c(g,0,10)*Math.pow(2,12)+c(instr2,0,10)*Math.pow(2,1),4194304<g&&(g-=8388608),d[a]=[l+g,l|1],31===f&& (h[a]=ea,e[a]="BL 0x"+x(d[a][0])+" ;&rarr;")));t&&(l=$("thumbvalue"+x(b[15])))&&(l.innerHTML=x(E[8][a],4),$("thumbname"+x(b[15])).innerHTML=e[a])}function F(a){var e,g,f,d,h,k,n,r,u,q;e=b[15]+8;p[a]="?";g=G[8][a];J[a]=c(g,28,31);f=Q[J[a]];if(77823===c(g,8,27))d=c(g,4,7),1===d&&(s[a]=da,m[a]=[c(g,0,3)],p[a]="BX"+f+" r"+m[a][0]),p[a]+=K(m[a][0]);else if(5===c(g,25,27))d=c(g,24),m[a]=[e+4*c(g,0,23)],s[a]=d?ba:ca,p[a]=(d?"BL":"B")+f+" 0x"+x(m[a][0]),p[a]+=d?" ;&rarr;":K(m[a][0]);else if(1===c(g,26,27))n= c(g,20),h=c(g,16,19),k=c(g,12,15),d=c(g,0,11),m[a]=15===h?[k,w(e+d,4)]:[k,h,d],n?(s[a]=15===h?S:U,p[a]="LDR"):(s[a]=15===h?T:V,p[a]="STR"),p[a]+=f+" r"+m[a][0]+(15===h?",=#0x"+x(m[a][1]):",[r"+m[a][1]+",0x"+x(m[a][2])+"]");else if(c(g,25,27)||c(g,7)||15==c(g,12,15))if(d=c(g,21,24),h=c(g,16,19),k=c(g,12,15),u=c(g,19),q=c(g,16),n=c(g,22),r=0,!c(g,18)&&8<=d&&11>=d){if(d=c(g,21))u&&(r+=4278190080),q&&(r+=255),m[a]=[c(g,0,3),r],s[a]=n?W:X,p[a]="MSR"+f+(n?" spsr_ ":" cpsr_")+(u?"f":"")+(q?"c":"")+",r"+ m[a][0]}else switch(f=0,c(g,25)&&(is=2*c(g,8,11),d=c(g,0,7),f=is,f=(d&Math.pow(2,f)-1)*Math.pow(2,32-f)+Math.floor(d/Math.pow(2,f))),c(g,21,24)){case 4:15===h?(s[a]=Z,m[a]=[k,e+f],p[a]="ADD r"+m[a][0]+",=#0x"+x(m[a][1])):(s[a]=aa,m[a]=[k,h,f],p[a]="ADD r"+m[a][0]+",r"+m[a][1]+",0x"+x(m[a][2]));break;case 13:s[a]=Y,m[a]=[k,f],p[a]="MOV r"+m[a][0]+",#0x"+x(m[a][1])}else s[a]=null,m[a]=[],p[a]="ARM7";t&&(e=$("armvalue"+x(b[15])))&&(e.innerHTML=x(G[8][a],8),$("armname"+x(b[15])).innerHTML=p[a])}function w(a, b,d){var f,e,h;e=void 0!==d;1===b?h=R:2===b?h=E:4===b&&(h=G);f=Math.floor(a/Math.pow(2,24));8>f?a&=16777215:f=14<f?14:8;a%=bb[f];if(6===f&&(98303<a&&131072>a&&(a-=8E3),e)){var k=a,m,n,p,q,s,t;m=8*c(d,0,4);n=8*c(d,5,9);p=8*c(d,10,14);4==b&&(q=8*c(d,0,4),s=8*c(d,5,9),t=8*c(d,10,14));z[0].data[2*k]=m;z[0].data[2*k+1]=n;z[0].data[2*k+2]=p;z[0].data[2*k+3]=255;4==b&&(z[0].data[2*k+4]=q,z[0].data[2*k+5]=s,z[0].data[2*k+6]=t,z[0].data[2*k+7]=255)}if(e)h[f][a/b]=d;else return h[f][a/b]||0}function v(a,c, d){d&&!c||c!=b[a]?(k|=536870912,t&&($("flagc").checked=!0)):(k&=3758096383,t&&($("flagc").checked=!1))}function n(a){0===b[a]?(k|=1073741824,t&&($("flagz").checked=!0)):(k&=3221225471,t&&($("flagz").checked=!1))}function q(a){1===c(b[a],31)?(k|=2147483648,t&&($("flagn").checked=!0)):(k&=2147483647,t&&($("flagn").checked=!1))}function L(){var a;t&&(document.getElementsByClassName("highlight")[0].className="");a=D?$("thumb"+x(b[15])):$("arm"+x(b[15]));a.className="highlight";a.parentNode.scrollTop= a.offsetTop-100;for(A=0;16>=A;A++)$("r"+A).innerHTML=x(b[A],8);$("cpsr").innerHTML=x(k,8);$("spsr").innerHTML=x(cb,8);$("flagn").checked=!!c(k,31);$("flagz").checked=!!c(k,30);$("flagc").checked=!!c(k,29);$("flagv").checked=!!c(k,28);$("flagi").checked=!!c(k,7);$("flagf").checked=!!c(k,6);$("flagt").checked=!!c(k,5);$("flagq").checked=!!c(k,27)}var t=!1;$=function(a){return document.getElementById(a)};for(var M=[],z=[],A=0;4>A;A++)M.push($("canvas"+A).getContext("2d")),z.push(M[A].createImageData(240, 160));var b=new Uint32Array(new ArrayBuffer(68));b[13]=50364160;b[15]=134217728;var k=0,cb=0,D=0,H=[,,new ArrayBuffer(262144),new ArrayBuffer(32768),new ArrayBuffer(1024),new ArrayBuffer(1024),new ArrayBuffer(98304),new ArrayBuffer(1024),,,,,,,new ArrayBuffer(65536)],bb=[,,262144,32768,,1024,131072,1024,33554432,,,,,,16777216],R=[],E=[],G=[];load=function(a,b){var c,d;d=new XMLHttpRequest;d.open("GET",a);d.responseType="arraybuffer";d.send();d.onload=function(){H[8]=d.response;for(c=0;16>c;c++)H[c]&& (R[c]=new Uint8Array(H[c]),E[c]=new Uint16Array(H[c]),G[c]=new Uint32Array(H[c]));F(0);b()}};var s=[],m=[],p=[],J=[],h=[],d=[],e=[],Q="EQ NE CS CC MI PL VS VC HI LS GE LT GT LE NV".split(" ");convert_all=function(){var a;for(a=0;a<G[8].length;a++)b[15]=134217728+4*a,F(a);for(a=0;a<E[8].length;a++)b[15]=134217728+2*a,I(a);b[15]=134217728};trace=function(){var a;a=b[15]%33554432;D?(a/=2,h[a](d[a])):(a/=4,s[a](m[a],J[a]));t&&L();a=b[15]-134217728;D?(a/=2,h[a]||I(a)):(a/=4,s[a]||F(a))};play=function(){for(var a, c;c!=b[15];)c=b[15],a=b[15]%33554432,D?(a/=2,h[a]||I(a),h[a](d[a])):(a/=4,s[a]||F(a),s[a](m[a],J[a]));t&&L();M[0].putImageData(z[0],0,0)};x=function(a,b){return((b?"0000000":"")+a.toString(16).toUpperCase()).slice(-b)};var C=-1;end_current_loop=function(){var a;a=t;for(t=!1;-1<C;)trace();N();t=a;a=b[15]%33554432;D?I(a/2):(a/=4,F(a));t&&L()}})();